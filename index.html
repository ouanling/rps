<script> 
var choicearray = [
    'rock',
    'paper',
    'scissor'
];

var winlose;
var computerSelection;
var score = 0;
var scoreCPU = 0;

let computerPlay = () => {
    var randomNumber = Math.floor(Math.random() * choicearray.length);
    return choicearray[randomNumber];

}
function playRound(playerSelection, computerSelection) {
    switch(playerSelection) {
    case 'rock':
    if (computerSelection == 'rock') { 
        winlose = 0; 
    } else if (computerSelection == 'paper') { winlose = '2'; } else { winlose = '1';} 
    if (winlose == '0') { return "tie"; } else if (winlose == '1') { ++score ; return "win: rock beats scissors" ; } else { ++scoreCPU; return "LOSER:paper beats rock" ; }
    break;
    case 'paper':
        if (computerSelection == 'rock') { winlose = 1;} else if (computerSelection == 'paper') { winlose = 0;} else { winlose = 2;}
        if (winlose == '0') { return "tie"; } else if (winlose == '1') { ++score ; return "win: paper beats rock" ; } else { ++scoreCPU; return "LOSER: scissors beat paper" ; }
        break;
    case 'scissor':
    if (computerSelection == 'rock') { winlose = 2;} else if (computerSelection == 'paper') { winlose = 1;} else { winlose = 0;}
    if (winlose == '0') { return "tie"; } else if (winlose == '1') { ++score ; return "win: scissors beat paper" ; } else { ++scoreCPU; return "LOSER: rock beats scissors" ; }
    break;
    
    
} }

function game() {
var gameNumb = 5;
    var i;
for (i = 0; i < gameNumb; i++) {
    let playerSelection = prompt("Enter rock, paper or scissor","").toLowerCase();
    if (choicearray.indexOf( playerSelection ) == -1) {
        alert( "Not a valid choice");
        i = --i; continue; }
        else {
            computerSelection = computerPlay()
            console.log((i + 1) + playRound(playerSelection, computerSelection));
            }
            

} 

}
var playerSelection;


game()
function results() {
    if (score == scoreCPU) { 
    console.log(" you have tied over 5 games, what a magician ") ;
    }
    else if (score > scoreCPU) { 
        console.log(" you have won "+ score + " games and the computer has won " + scoreCPU); }
        else { console.log("you have lost with a score of" + score + " the computer has won with " + scoreCPU + " games"); }

}

results()


</script>